package net

import (
	"log"
	"strings"
	"testing"
	"time"
)

const send = "[\n  {\n    \"actual_time\": 1680992141,\n    \"alliances\": {\n      \"blue\": {\n        \"dq_team_keys\": [],\n        \"score\": 148,\n        \"surrogate_team_keys\": [],\n        \"team_keys\": [\n          \"frc179\",\n          \"frc1466\",\n          \"frc2556\"\n        ]\n      },\n      \"red\": {\n        \"dq_team_keys\": [],\n        \"score\": 158,\n        \"surrogate_team_keys\": [],\n        \"team_keys\": [\n          \"frc7072\",\n          \"frc4499\",\n          \"frc3937\"\n        ]\n      }\n    },\n    \"comp_level\": \"f\",\n    \"event_key\": \"2023alhu\",\n    \"key\": \"2023alhu_f1m1\",\n    \"match_number\": 1,\n    \"post_result_time\": 1680992317,\n    \"predicted_time\": 1680992285,\n    \"score_breakdown\": {\n      \"blue\": {\n        \"activationBonusAchieved\": false,\n        \"adjustPoints\": 0,\n        \"autoBridgeState\": \"Level\",\n        \"autoChargeStationPoints\": 12,\n        \"autoChargeStationRobot1\": \"None\",\n        \"autoChargeStationRobot2\": \"Docked\",\n        \"autoChargeStationRobot3\": \"None\",\n        \"autoCommunity\": {\n          \"B\": [\n            \"Cone\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"Cone\",\n            \"None\",\n            \"None\"\n          ],\n          \"M\": [\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\"\n          ],\n          \"T\": [\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"Cube\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"Cone\"\n          ]\n        },\n        \"autoDocked\": true,\n        \"autoGamePieceCount\": 4,\n        \"autoGamePiecePoints\": 18,\n        \"autoMobilityPoints\": 6,\n        \"autoPoints\": 36,\n        \"coopGamePieceCount\": 6,\n        \"coopertitionCriteriaMet\": false,\n        \"endGameBridgeState\": \"Level\",\n        \"endGameChargeStationPoints\": 30,\n        \"endGameChargeStationRobot1\": \"Docked\",\n        \"endGameChargeStationRobot2\": \"Docked\",\n        \"endGameChargeStationRobot3\": \"Docked\",\n        \"endGameParkPoints\": 0,\n        \"foulCount\": 0,\n        \"foulPoints\": 0,\n        \"linkPoints\": 25,\n        \"links\": [\n          {\n            \"nodes\": [\n              0,\n              1,\n              2\n            ],\n            \"row\": \"Bottom\"\n          },\n          {\n            \"nodes\": [\n              0,\n              1,\n              2\n            ],\n            \"row\": \"Mid\"\n          },\n          {\n            \"nodes\": [\n              5,\n              6,\n              7\n            ],\n            \"row\": \"Mid\"\n          },\n          {\n            \"nodes\": [\n              3,\n              4,\n              5\n            ],\n            \"row\": \"Top\"\n          },\n          {\n            \"nodes\": [\n              6,\n              7,\n              8\n            ],\n            \"row\": \"Top\"\n          }\n        ],\n        \"mobilityRobot1\": \"Yes\",\n        \"mobilityRobot2\": \"Yes\",\n        \"mobilityRobot3\": \"No\",\n        \"rp\": 0,\n        \"sustainabilityBonusAchieved\": false,\n        \"techFoulCount\": 0,\n        \"teleopCommunity\": {\n          \"B\": [\n            \"Cone\",\n            \"Cube\",\n            \"Cone\",\n            \"None\",\n            \"None\",\n            \"Cone\",\n            \"Cone\",\n            \"None\",\n            \"None\"\n          ],\n          \"M\": [\n            \"Cone\",\n            \"Cube\",\n            \"Cone\",\n            \"Cone\",\n            \"None\",\n            \"Cone\",\n            \"Cone\",\n            \"Cube\",\n            \"None\"\n          ],\n          \"T\": [\n            \"Cone\",\n            \"Cube\",\n            \"None\",\n            \"Cone\",\n            \"Cube\",\n            \"Cone\",\n            \"Cone\",\n            \"Cube\",\n            \"Cone\"\n          ]\n        },\n        \"teleopGamePieceCount\": 20,\n        \"teleopGamePiecePoints\": 57,\n        \"teleopPoints\": 87,\n        \"totalChargeStationPoints\": 42,\n        \"totalPoints\": 148\n      },\n      \"red\": {\n        \"activationBonusAchieved\": false,\n        \"adjustPoints\": 0,\n        \"autoBridgeState\": \"Level\",\n        \"autoChargeStationPoints\": 12,\n        \"autoChargeStationRobot1\": \"Docked\",\n        \"autoChargeStationRobot2\": \"None\",\n        \"autoChargeStationRobot3\": \"None\",\n        \"autoCommunity\": {\n          \"B\": [\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\"\n          ],\n          \"M\": [\n            \"None\",\n            \"Cube\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\"\n          ],\n          \"T\": [\n            \"Cone\",\n            \"Cube\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"Cube\",\n            \"Cone\"\n          ]\n        },\n        \"autoDocked\": true,\n        \"autoGamePieceCount\": 5,\n        \"autoGamePiecePoints\": 28,\n        \"autoMobilityPoints\": 9,\n        \"autoPoints\": 49,\n        \"coopGamePieceCount\": 8,\n        \"coopertitionCriteriaMet\": false,\n        \"endGameBridgeState\": \"Level\",\n        \"endGameChargeStationPoints\": 20,\n        \"endGameChargeStationRobot1\": \"Docked\",\n        \"endGameChargeStationRobot2\": \"Docked\",\n        \"endGameChargeStationRobot3\": \"Park\",\n        \"endGameParkPoints\": 2,\n        \"foulCount\": 0,\n        \"foulPoints\": 0,\n        \"linkPoints\": 30,\n        \"links\": [\n          {\n            \"nodes\": [\n              0,\n              1,\n              2\n            ],\n            \"row\": \"Mid\"\n          },\n          {\n            \"nodes\": [\n              3,\n              4,\n              5\n            ],\n            \"row\": \"Mid\"\n          },\n          {\n            \"nodes\": [\n              6,\n              7,\n              8\n            ],\n            \"row\": \"Mid\"\n          },\n          {\n            \"nodes\": [\n              0,\n              1,\n              2\n            ],\n            \"row\": \"Top\"\n          },\n          {\n            \"nodes\": [\n              3,\n              4,\n              5\n            ],\n            \"row\": \"Top\"\n          },\n          {\n            \"nodes\": [\n              6,\n              7,\n              8\n            ],\n            \"row\": \"Top\"\n          }\n        ],\n        \"mobilityRobot1\": \"Yes\",\n        \"mobilityRobot2\": \"Yes\",\n        \"mobilityRobot3\": \"Yes\",\n        \"rp\": 0,\n        \"sustainabilityBonusAchieved\": false,\n        \"techFoulCount\": 0,\n        \"teleopCommunity\": {\n          \"B\": [\n            \"Cube\",\n            \"None\",\n            \"Cube\",\n            \"Cube\",\n            \"None\",\n            \"Cube\",\n            \"None\",\n            \"None\",\n            \"None\"\n          ],\n          \"M\": [\n            \"Cone\",\n            \"Cube\",\n            \"Cone\",\n            \"Cone\",\n            \"Cube\",\n            \"Cone\",\n            \"Cone\",\n            \"Cube\",\n            \"Cone\"\n          ],\n          \"T\": [\n            \"Cone\",\n            \"Cube\",\n            \"Cone\",\n            \"Cone\",\n            \"Cube\",\n            \"Cone\",\n            \"Cone\",\n            \"Cube\",\n            \"Cone\"\n          ]\n        },\n        \"teleopGamePieceCount\": 22,\n        \"teleopGamePiecePoints\": 57,\n        \"teleopPoints\": 79,\n        \"totalChargeStationPoints\": 32,\n        \"totalPoints\": 158\n      }\n    },\n    \"set_number\": 1,\n    \"time\": 1680988980,\n    \"videos\": [\n      {\n        \"key\": \"ygcIyoqXfEU\",\n        \"type\": \"youtube\"\n      }\n    ],\n    \"winning_alliance\": \"red\"\n  },\n  {\n    \"actual_time\": 1680993423,\n    \"alliances\": {\n      \"blue\": {\n        \"dq_team_keys\": [],\n        \"score\": 115,\n        \"surrogate_team_keys\": [],\n        \"team_keys\": [\n          \"frc179\",\n          \"frc1466\",\n          \"frc2556\"\n        ]\n      },\n      \"red\": {\n        \"dq_team_keys\": [],\n        \"score\": 142,\n        \"surrogate_team_keys\": [],\n        \"team_keys\": [\n          \"frc7072\",\n          \"frc4499\",\n          \"frc3937\"\n        ]\n      }\n    },\n    \"comp_level\": \"f\",\n    \"event_key\": \"2023alhu\",\n    \"key\": \"2023alhu_f1m2\",\n    \"match_number\": 2,\n    \"post_result_time\": 1680993666,\n    \"predicted_time\": 1680993482,\n    \"score_breakdown\": {\n      \"blue\": {\n        \"activationBonusAchieved\": false,\n        \"adjustPoints\": 0,\n        \"autoBridgeState\": \"Level\",\n        \"autoChargeStationPoints\": 12,\n        \"autoChargeStationRobot1\": \"None\",\n        \"autoChargeStationRobot2\": \"Docked\",\n        \"autoChargeStationRobot3\": \"None\",\n        \"autoCommunity\": {\n          \"B\": [\n            \"None\",\n            \"Cone\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\"\n          ],\n          \"M\": [\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"Cone\",\n            \"None\",\n            \"None\"\n          ],\n          \"T\": [\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"Cube\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"Cone\"\n          ]\n        },\n        \"autoDocked\": true,\n        \"autoGamePieceCount\": 4,\n        \"autoGamePiecePoints\": 19,\n        \"autoMobilityPoints\": 6,\n        \"autoPoints\": 37,\n        \"coopGamePieceCount\": 5,\n        \"coopertitionCriteriaMet\": false,\n        \"endGameBridgeState\": \"NotLevel\",\n        \"endGameChargeStationPoints\": 0,\n        \"endGameChargeStationRobot1\": \"Park\",\n        \"endGameChargeStationRobot2\": \"Park\",\n        \"endGameChargeStationRobot3\": \"Park\",\n        \"endGameParkPoints\": 6,\n        \"foulCount\": 1,\n        \"foulPoints\": 15,\n        \"linkPoints\": 15,\n        \"links\": [\n          {\n            \"nodes\": [\n              1,\n              2,\n              3\n            ],\n            \"row\": \"Mid\"\n          },\n          {\n            \"nodes\": [\n              2,\n              3,\n              4\n            ],\n            \"row\": \"Top\"\n          },\n          {\n            \"nodes\": [\n              5,\n              6,\n              7\n            ],\n            \"row\": \"Top\"\n          }\n        ],\n        \"mobilityRobot1\": \"Yes\",\n        \"mobilityRobot2\": \"Yes\",\n        \"mobilityRobot3\": \"No\",\n        \"rp\": 0,\n        \"sustainabilityBonusAchieved\": false,\n        \"techFoulCount\": 0,\n        \"teleopCommunity\": {\n          \"B\": [\n            \"None\",\n            \"Cone\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\"\n          ],\n          \"M\": [\n            \"None\",\n            \"Cube\",\n            \"Cone\",\n            \"Cone\",\n            \"None\",\n            \"Cone\",\n            \"Cone\",\n            \"None\",\n            \"None\"\n          ],\n          \"T\": [\n            \"Cone\",\n            \"None\",\n            \"Cone\",\n            \"Cone\",\n            \"Cube\",\n            \"Cone\",\n            \"Cone\",\n            \"Cube\",\n            \"Cone\"\n          ]\n        },\n        \"teleopGamePieceCount\": 14,\n        \"teleopGamePiecePoints\": 42,\n        \"teleopPoints\": 48,\n        \"totalChargeStationPoints\": 12,\n        \"totalPoints\": 115\n      },\n      \"red\": {\n        \"activationBonusAchieved\": false,\n        \"adjustPoints\": 0,\n        \"autoBridgeState\": \"Level\",\n        \"autoChargeStationPoints\": 12,\n        \"autoChargeStationRobot1\": \"Docked\",\n        \"autoChargeStationRobot2\": \"None\",\n        \"autoChargeStationRobot3\": \"None\",\n        \"autoCommunity\": {\n          \"B\": [\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\"\n          ],\n          \"M\": [\n            \"None\",\n            \"Cube\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\"\n          ],\n          \"T\": [\n            \"Cone\",\n            \"Cube\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"Cone\"\n          ]\n        },\n        \"autoDocked\": true,\n        \"autoGamePieceCount\": 4,\n        \"autoGamePiecePoints\": 22,\n        \"autoMobilityPoints\": 9,\n        \"autoPoints\": 43,\n        \"coopGamePieceCount\": 4,\n        \"coopertitionCriteriaMet\": false,\n        \"endGameBridgeState\": \"Level\",\n        \"endGameChargeStationPoints\": 20,\n        \"endGameChargeStationRobot1\": \"Docked\",\n        \"endGameChargeStationRobot2\": \"Docked\",\n        \"endGameChargeStationRobot3\": \"None\",\n        \"endGameParkPoints\": 0,\n        \"foulCount\": 3,\n        \"foulPoints\": 5,\n        \"linkPoints\": 25,\n        \"links\": [\n          {\n            \"nodes\": [\n              0,\n              1,\n              2\n            ],\n            \"row\": \"Bottom\"\n          },\n          {\n            \"nodes\": [\n              0,\n              1,\n              2\n            ],\n            \"row\": \"Mid\"\n          },\n          {\n            \"nodes\": [\n              0,\n              1,\n              2\n            ],\n            \"row\": \"Top\"\n          },\n          {\n            \"nodes\": [\n              3,\n              4,\n              5\n            ],\n            \"row\": \"Top\"\n          },\n          {\n            \"nodes\": [\n              6,\n              7,\n              8\n            ],\n            \"row\": \"Top\"\n          }\n        ],\n        \"mobilityRobot1\": \"Yes\",\n        \"mobilityRobot2\": \"Yes\",\n        \"mobilityRobot3\": \"Yes\",\n        \"rp\": 0,\n        \"sustainabilityBonusAchieved\": false,\n        \"techFoulCount\": 0,\n        \"teleopCommunity\": {\n          \"B\": [\n            \"Cone\",\n            \"Cube\",\n            \"Cube\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"Cube\",\n            \"None\",\n            \"Cube\"\n          ],\n          \"M\": [\n            \"Cone\",\n            \"Cube\",\n            \"Cone\",\n            \"None\",\n            \"Cube\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\"\n          ],\n          \"T\": [\n            \"Cone\",\n            \"Cube\",\n            \"Cone\",\n            \"Cone\",\n            \"Cube\",\n            \"Cone\",\n            \"Cone\",\n            \"Cube\",\n            \"Cone\"\n          ]\n        },\n        \"teleopGamePieceCount\": 18,\n        \"teleopGamePiecePoints\": 49,\n        \"teleopPoints\": 69,\n        \"totalChargeStationPoints\": 32,\n        \"totalPoints\": 142\n      }\n    },\n    \"set_number\": 1,\n    \"time\": 1680990180,\n    \"videos\": [\n      {\n        \"key\": \"iKkMurECA-o\",\n        \"type\": \"youtube\"\n      }\n    ],\n    \"winning_alliance\": \"red\"\n  },\n  {\n    \"actual_time\": 1680858324,\n    \"alliances\": {\n      \"blue\": {\n        \"dq_team_keys\": [],\n        \"score\": 110,\n        \"surrogate_team_keys\": [],\n        \"team_keys\": [\n          \"frc3284\",\n          \"frc3843\",\n          \"frc3630\"\n        ]\n      },\n      \"red\": {\n        \"dq_team_keys\": [],\n        \"score\": 41,\n        \"surrogate_team_keys\": [],\n        \"team_keys\": [\n          \"frc9313\",\n          \"frc2438\",\n          \"frc5410\"\n        ]\n      }\n    },\n    \"comp_level\": \"qm\",\n    \"event_key\": \"2023alhu\",\n    \"key\": \"2023alhu_qm1\",\n    \"match_number\": 1,\n    \"post_result_time\": 1680858536,\n    \"predicted_time\": 1680876363,\n    \"score_breakdown\": {\n      \"blue\": {\n        \"activationBonusAchieved\": true,\n        \"adjustPoints\": 0,\n        \"autoBridgeState\": \"Level\",\n        \"autoChargeStationPoints\": 0,\n        \"autoChargeStationRobot1\": \"None\",\n        \"autoChargeStationRobot2\": \"None\",\n        \"autoChargeStationRobot3\": \"None\",\n        \"autoCommunity\": {\n          \"B\": [\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\"\n          ],\n          \"M\": [\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"Cone\"\n          ],\n          \"T\": [\n            \"Cone\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\"\n          ]\n        },\n        \"autoDocked\": false,\n        \"autoGamePieceCount\": 2,\n        \"autoGamePiecePoints\": 10,\n        \"autoMobilityPoints\": 3,\n        \"autoPoints\": 13,\n        \"coopGamePieceCount\": 7,\n        \"coopertitionCriteriaMet\": true,\n        \"endGameBridgeState\": \"Level\",\n        \"endGameChargeStationPoints\": 30,\n        \"endGameChargeStationRobot1\": \"Docked\",\n        \"endGameChargeStationRobot2\": \"Docked\",\n        \"endGameChargeStationRobot3\": \"Docked\",\n        \"endGameParkPoints\": 0,\n        \"foulCount\": 0,\n        \"foulPoints\": 0,\n        \"linkPoints\": 20,\n        \"links\": [\n          {\n            \"nodes\": [\n              4,\n              5,\n              6\n            ],\n            \"row\": \"Bottom\"\n          },\n          {\n            \"nodes\": [\n              5,\n              6,\n              7\n            ],\n            \"row\": \"Mid\"\n          },\n          {\n            \"nodes\": [\n              0,\n              1,\n              2\n            ],\n            \"row\": \"Top\"\n          },\n          {\n            \"nodes\": [\n              3,\n              4,\n              5\n            ],\n            \"row\": \"Top\"\n          }\n        ],\n        \"mobilityRobot1\": \"No\",\n        \"mobilityRobot2\": \"No\",\n        \"mobilityRobot3\": \"Yes\",\n        \"rp\": 4,\n        \"sustainabilityBonusAchieved\": true,\n        \"techFoulCount\": 0,\n        \"teleopCommunity\": {\n          \"B\": [\n            \"None\",\n            \"Cube\",\n            \"None\",\n            \"None\",\n            \"Cube\",\n            \"Cube\",\n            \"Cube\",\n            \"Cube\",\n            \"None\"\n          ],\n          \"M\": [\n            \"None\",\n            \"None\",\n            \"None\",\n            \"Cone\",\n            \"None\",\n            \"Cone\",\n            \"Cone\",\n            \"Cube\",\n            \"Cone\"\n          ],\n          \"T\": [\n            \"Cone\",\n            \"Cube\",\n            \"Cone\",\n            \"Cone\",\n            \"Cube\",\n            \"Cone\",\n            \"None\",\n            \"None\",\n            \"None\"\n          ]\n        },\n        \"teleopGamePieceCount\": 16,\n        \"teleopGamePiecePoints\": 47,\n        \"teleopPoints\": 77,\n        \"totalChargeStationPoints\": 30,\n        \"totalPoints\": 110\n      },\n      \"red\": {\n        \"activationBonusAchieved\": false,\n        \"adjustPoints\": 0,\n        \"autoBridgeState\": \"NotLevel\",\n        \"autoChargeStationPoints\": 8,\n        \"autoChargeStationRobot1\": \"None\",\n        \"autoChargeStationRobot2\": \"Docked\",\n        \"autoChargeStationRobot3\": \"None\",\n        \"autoCommunity\": {\n          \"B\": [\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\"\n          ],\n          \"M\": [\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\"\n          ],\n          \"T\": [\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"Cube\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\"\n          ]\n        },\n        \"autoDocked\": true,\n        \"autoGamePieceCount\": 1,\n        \"autoGamePiecePoints\": 6,\n        \"autoMobilityPoints\": 0,\n        \"autoPoints\": 14,\n        \"coopGamePieceCount\": 3,\n        \"coopertitionCriteriaMet\": true,\n        \"endGameBridgeState\": \"NotLevel\",\n        \"endGameChargeStationPoints\": 6,\n        \"endGameChargeStationRobot1\": \"None\",\n        \"endGameChargeStationRobot2\": \"Docked\",\n        \"endGameChargeStationRobot3\": \"Park\",\n        \"endGameParkPoints\": 2,\n        \"foulCount\": 0,\n        \"foulPoints\": 0,\n        \"linkPoints\": 5,\n        \"links\": [\n          {\n            \"nodes\": [\n              3,\n              4,\n              5\n            ],\n            \"row\": \"Top\"\n          }\n        ],\n        \"mobilityRobot1\": \"No\",\n        \"mobilityRobot2\": \"No\",\n        \"mobilityRobot3\": \"No\",\n        \"rp\": 0,\n        \"sustainabilityBonusAchieved\": false,\n        \"techFoulCount\": 0,\n        \"teleopCommunity\": {\n          \"B\": [\n            \"None\",\n            \"Cube\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"Cube\"\n          ],\n          \"M\": [\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\"\n          ],\n          \"T\": [\n            \"None\",\n            \"None\",\n            \"None\",\n            \"Cone\",\n            \"Cube\",\n            \"Cone\",\n            \"None\",\n            \"None\",\n            \"None\"\n          ]\n        },\n        \"teleopGamePieceCount\": 5,\n        \"teleopGamePiecePoints\": 14,\n        \"teleopPoints\": 22,\n        \"totalChargeStationPoints\": 14,\n        \"totalPoints\": 41\n      }\n    },\n    \"set_number\": 1,\n    \"time\": 1680876000,\n    \"videos\": [],\n    \"winning_alliance\": \"blue\"\n  },\n  {\n    \"actual_time\": 1680880467,\n    \"alliances\": {\n      \"blue\": {\n        \"dq_team_keys\": [],\n        \"score\": 105,\n        \"surrogate_team_keys\": [],\n        \"team_keys\": [\n          \"frc7430\",\n          \"frc7565\",\n          \"frc6823\"\n        ]\n      },\n      \"red\": {\n        \"dq_team_keys\": [],\n        \"score\": 95,\n        \"surrogate_team_keys\": [],\n        \"team_keys\": [\n          \"frc6184\",\n          \"frc233\",\n          \"frc34\"\n        ]\n      }\n    },\n    \"comp_level\": \"qm\",\n    \"event_key\": \"2023alhu\",\n    \"key\": \"2023alhu_qm10\",\n    \"match_number\": 10,\n    \"post_result_time\": 1680880707,\n    \"predicted_time\": 1680880538,\n    \"score_breakdown\": {\n      \"blue\": {\n        \"activationBonusAchieved\": true,\n        \"adjustPoints\": 0,\n        \"autoBridgeState\": \"Level\",\n        \"autoChargeStationPoints\": 12,\n        \"autoChargeStationRobot1\": \"None\",\n        \"autoChargeStationRobot2\": \"Docked\",\n        \"autoChargeStationRobot3\": \"None\",\n        \"autoCommunity\": {\n          \"B\": [\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\"\n          ],\n          \"M\": [\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\"\n          ],\n          \"T\": [\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"Cube\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"Cone\"\n          ]\n        },\n        \"autoDocked\": true,\n        \"autoGamePieceCount\": 2,\n        \"autoGamePiecePoints\": 12,\n        \"autoMobilityPoints\": 3,\n        \"autoPoints\": 27,\n        \"coopGamePieceCount\": 3,\n        \"coopertitionCriteriaMet\": true,\n        \"endGameBridgeState\": \"Level\",\n        \"endGameChargeStationPoints\": 20,\n        \"endGameChargeStationRobot1\": \"Docked\",\n        \"endGameChargeStationRobot2\": \"Docked\",\n        \"endGameChargeStationRobot3\": \"Park\",\n        \"endGameParkPoints\": 2,\n        \"foulCount\": 0,\n        \"foulPoints\": 5,\n        \"linkPoints\": 15,\n        \"links\": [\n          {\n            \"nodes\": [\n              0,\n              1,\n              2\n            ],\n            \"row\": \"Bottom\"\n          },\n          {\n            \"nodes\": [\n              3,\n              4,\n              5\n            ],\n            \"row\": \"Top\"\n          },\n          {\n            \"nodes\": [\n              6,\n              7,\n              8\n            ],\n            \"row\": \"Top\"\n          }\n        ],\n        \"mobilityRobot1\": \"No\",\n        \"mobilityRobot2\": \"No\",\n        \"mobilityRobot3\": \"Yes\",\n        \"rp\": 3,\n        \"sustainabilityBonusAchieved\": false,\n        \"techFoulCount\": 0,\n        \"teleopCommunity\": {\n          \"B\": [\n            \"Cube\",\n            \"Cube\",\n            \"Cone\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\"\n          ],\n          \"M\": [\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\"\n          ],\n          \"T\": [\n            \"Cone\",\n            \"Cube\",\n            \"None\",\n            \"Cone\",\n            \"Cube\",\n            \"Cone\",\n            \"Cone\",\n            \"Cube\",\n            \"Cone\"\n          ]\n        },\n        \"teleopGamePieceCount\": 11,\n        \"teleopGamePiecePoints\": 36,\n        \"teleopPoints\": 58,\n        \"totalChargeStationPoints\": 32,\n        \"totalPoints\": 105\n      },\n      \"red\": {\n        \"activationBonusAchieved\": false,\n        \"adjustPoints\": 0,\n        \"autoBridgeState\": \"Level\",\n        \"autoChargeStationPoints\": 12,\n        \"autoChargeStationRobot1\": \"None\",\n        \"autoChargeStationRobot2\": \"Docked\",\n        \"autoChargeStationRobot3\": \"None\",\n        \"autoCommunity\": {\n          \"B\": [\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"Cone\"\n          ],\n          \"M\": [\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\"\n          ],\n          \"T\": [\n            \"None\",\n            \"Cube\",\n            \"None\",\n            \"None\",\n            \"Cube\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\"\n          ]\n        },\n        \"autoDocked\": true,\n        \"autoGamePieceCount\": 3,\n        \"autoGamePiecePoints\": 15,\n        \"autoMobilityPoints\": 3,\n        \"autoPoints\": 30,\n        \"coopGamePieceCount\": 6,\n        \"coopertitionCriteriaMet\": true,\n        \"endGameBridgeState\": \"NotLevel\",\n        \"endGameChargeStationPoints\": 6,\n        \"endGameChargeStationRobot1\": \"Park\",\n        \"endGameChargeStationRobot2\": \"Park\",\n        \"endGameChargeStationRobot3\": \"Docked\",\n        \"endGameParkPoints\": 4,\n        \"foulCount\": 1,\n        \"foulPoints\": 0,\n        \"linkPoints\": 15,\n        \"links\": [\n          {\n            \"nodes\": [\n              3,\n              4,\n              5\n            ],\n            \"row\": \"Mid\"\n          },\n          {\n            \"nodes\": [\n              0,\n              1,\n              2\n            ],\n            \"row\": \"Top\"\n          },\n          {\n            \"nodes\": [\n              3,\n              4,\n              5\n            ],\n            \"row\": \"Top\"\n          }\n        ],\n        \"mobilityRobot1\": \"No\",\n        \"mobilityRobot2\": \"Yes\",\n        \"mobilityRobot3\": \"No\",\n        \"rp\": 0,\n        \"sustainabilityBonusAchieved\": false,\n        \"techFoulCount\": 0,\n        \"teleopCommunity\": {\n          \"B\": [\n            \"Cube\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"None\",\n            \"Cone\"\n          ],\n          \"M\": [\n            \"None\",\n            \"Cube\",\n            \"None\",\n            \"Cone\",\n            \"Cube\",\n            \"Cone\",\n            \"None\",\n            \"Cube\",\n            \"Cone\"\n          ],\n          \"T\": [\n            \"Cone\",\n            \"Cube\",\n            \"Cone\",\n            \"Cone\",\n            \"Cube\",\n            \"Cone\",\n            \"None\",\n            \"None\",\n            \"None\"\n          ]\n        },\n        \"teleopGamePieceCount\": 14,\n        \"teleopGamePiecePoints\": 40,\n        \"teleopPoints\": 50,\n        \"totalChargeStationPoints\": 18,\n        \"totalPoints\": 95\n      }\n    },\n    \"set_number\": 1,\n    \"time\": 1680880320,\n    \"videos\": [\n      {\n        \"key\": \"fiKiBvlphv0\",\n        \"type\": \"youtube\"\n      }\n    ],\n    \"winning_alliance\": \"blue\"\n  },\n  {\nFINISH"

func TestLag(t *testing.T) {
	sendData := strings.Split(send, "\n")
	Db, _ := Init(false, "")
	go func() {
		dataWorker := make(chan string, ImportantWorkerLimit)
		go Db.SenderWorker(dataWorker, Result)
		for _, data := range sendData {
			dataWorker <- data
		}
	}()
	for {
		data := Db.AwaitData(Result)
		if strings.Contains(data, "FINISH") {
			log.Println("Got Finish, Done!")
			break
		}
	}

}

func TestLatency(t *testing.T) {
	time.Sleep(time.Second)
	Db, _ := Init(false, "")
	var timer time.Time
	go func() {
		err := Db.Send("Hello", Command)
		if err != nil {
			log.Fatal(err)
			return
		}
		timer = time.Now()
	}()
	for {
		Db.AwaitData(Command)
		break
	}
	log.Println("Time passed is (Milliseconds)", time.Since(timer).Milliseconds())

}
